CREATE DATABASE java_db ;
CREATE TABLE agents (
    agentId INT PRIMARY KEY,
    agentName VARCHAR(255) NOT NULL
);

CREATE TABLE buyers (
    buyerId INT PRIMARY KEY,
    buyerName VARCHAR(255) NOT NULL,
    gender CHAR(1),
    age INT
);

CREATE TABLE transactions (
    transactionId INT PRIMARY KEY,
    price DOUBLE,
    method VARCHAR(50),
    agentId INT,
    buyerId INT,
    propertyId INT,
    date DATE,
    FOREIGN KEY (agentId) REFERENCES agents(agentId),
    FOREIGN KEY (buyerId) REFERENCES buyers(buyerId)
);

CREATE TABLE location (
    locationId INT PRIMARY KEY AUTO_INCREMENT,
    regionName VARCHAR(255),
    address VARCHAR(255),
    latitude DOUBLE,
    longitude DOUBLE,
    distance DOUBLE,
    postcode INT,
    councilArea VARCHAR(255),
    propertyCount INT
);

CREATE TABLE houses (
    propertyId INT PRIMARY KEY,
    rooms INT,
    bathroom INT,
    landSize INT,
    locationId INT,
    hasGarden BOOLEAN,
    parkingSpot INT,
    buildingSize INT,
    yearBuilt INT,
    hasSwimmingPool BOOLEAN,
    hasFence BOOLEAN,
    FOREIGN KEY (propertyId) REFERENCES property(propertyId)
);

CREATE TABLE units (
    landSize INT,
    locationId INT,
    propertyId INT PRIMARY KEY,
    rooms INT,
    bathroom INT,
    parkingSpot INT,
    buildingSize INT,
    yearBuilt INT,
    floorLevel INT,
    hasBalcony BOOLEAN,
    hasElevator BOOLEAN,

    FOREIGN KEY (propertyId) REFERENCES property(propertyId)
);

CREATE TABLE townhouses (
    landSize INT,
    locationId INT,
    propertyId INT PRIMARY KEY,
    rooms INT,
    bathroom INT,
    parkingSpot INT,
    buildingSize INT,
    yearBuilt INT,
    numberOfSharedWalls INT,
    numberOfLevels INT,
    FOREIGN KEY (propertyId) REFERENCES property(propertyId)
);

CREATE TABLE developmentSite (
    propertyId INT PRIMARY KEY,
    landSize INT,
    locationId INT,
    isLandCleared BOOLEAN,
    underConstruction BOOLEAN,
    FOREIGN KEY (propertyId) REFERENCES property(propertyId)
);
